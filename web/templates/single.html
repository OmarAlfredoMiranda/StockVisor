{% extends "base.html" %}
{% block body %}
<div class="card">
  <form method="post" enctype="multipart/form-data">
    <label>Seleccionar archivo</label>
    <input type="file" name="file" required/>
    <label>conf</label>
    <input type="number" name="conf" step="0.01" value="{{ conf }}" style="width:80px"/>
    <label>imgsz</label>
    <input type="number" name="imgsz" value="{{ imgsz }}" style="width:80px"/>
    <label>classes</label>
    <input type="text" name="classes" placeholder="p.ej: bottle,cup" value="{{ classes_str }}" style="width:220px"/>
    <button>Procesar</button>
  </form>
</div>

<div class="row" style="margin-top:12px">
  <div class="card">
    {% if out_url %}
      <img src="{{ out_url }}" style="width:100%;border-radius:12px;border:1px solid var(--border)"/>
    {% else %}
      <div class="small">Subí una imagen y presioná procesar.</div>
    {% endif %}
  </div>
  <div class="card">
    <table class="table">
      <thead><tr><th>Clase</th><th>Cantidad</th></tr></thead>
      <tbody>
      <tr><td><b>Total</b></td><td>{{ total }}</td></tr>
      {% for k,v in per_class.items() %}
        <tr><td>{{ k }}</td><td>{{ v }}</td></tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
